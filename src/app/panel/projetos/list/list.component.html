<div class="grid">
    <p-card class="col-12">
        <p-toolbar>
            <div class="p-toolbar-group-start">
                <p-button icon="pi pi-plus" class="mr-2"/>
                <p-button icon="pi pi-print" class="mr-2"/>
                <p-button icon="pi pi-upload" />
            </div>
            <div class="p-toolbar-group-center">
                <span class="p-input-icon-left">
                    <i class="pi pi-search"></i>
                    <input pInputText placeholder="Search" />
                </span>
            </div>
            <div class="p-toolbar-group-end">
               
            </div>
        </p-toolbar>
    </p-card>
    <ng-container *ngIf="loading">
        <p-card class="col-6" *ngFor="let asdas of [].constructor(4)">
            <p-panel [toggleable]="true" [collapsed]="true">
                <ng-template pTemplate="header">
                    <div class="flex align-items-center gap-2">
                        <p-skeleton size="4rem" />
                        <div class="flex flex-column gap-2">
                            <p-skeleton width="8rem" height=".8em" />
                            <p-skeleton width="12rem" height="1.5em" />
                            <p-skeleton width="8rem" height=".6em" />
                        </div>
                    </div>
                </ng-template>
                <ng-template pTemplate="icons">
                    <p-skeleton  class="p-panel-header-icon p-link mr-2" shape="circle" size="2rem" />
                    <p-skeleton  class="p-panel-header-icon p-link mr-2" shape="circle" size="2rem" />
                </ng-template>
            </p-panel>
            <div class="flex flex-wrap align-items-center justify-content-between gap-3 px-3 pb-3 pt-1">
                <div class="flex align-items-center gap-2">
                    <div class="responsavel">
                        <p-skeleton size="3rem" />
                    </div>
                </div>
                
                <p-skeleton class="flex-auto" height="1.2em" />
                <p-progressBar class="flex-auto" [value]="0" [style]="{ height: '1.2em' }" />
                <div>
                    <p-skeleton width="100px" />
                </div>
            </div>
        </p-card>
    </ng-container>
    
    <ng-container *ngIf="!loading">
    <p-card class="col-6" *ngFor="let projeto of projetos">
        <p-panel [toggleable]="true" [collapsed]="true">
            <ng-template pTemplate="header">
                <div class="flex align-items-center gap-2">
                    <p-avatar 
                        [image]="projeto.imagem" 
                        size="xlarge"
                        [style]="{overflow:'hidden', borderRadius:'6px'}" 
                    />
                                            
                    <div class="flex flex-column gap-2">
                        <span class="font-bold">{{projeto.empresa}}</span>
                        <span class="text-xl font-bold line-height-1">{{projeto.title}}</span>
                        <span class="text-xs line-height-1">{{projeto.createdAt}} - {{projeto.endAt}}</span>
                    </div>
                </div>
            </ng-template>
            <p>{{projeto.status}} - colocar no obj</p>
            <p-divider />
            <a routerLink="/" class="flex align-items-center no-underline text-color">
                <p-knob class="mr-2" [min]="projeto.porcent" [size]="30" [strokeWidth]="15" [disabled]="true" [readonly]="true" />
                <span>Nome da tarefa</span>
            </a>
            <p-divider />
            <a routerLink="/" class="flex align-items-center no-underline text-color">
                <p-knob class="mr-2" [min]="projeto.porcent" [size]="30" [strokeWidth]="15" [disabled]="true" [readonly]="true" />
                <span>Nome da tarefa</span>
            </a>
            <ng-template pTemplate="icons">
                <button class="p-panel-header-icon p-link mr-2" (click)="menu.toggle($event)">
                    <span class="pi pi-cog"></span>
                </button>
                <p-menu #menu id="config_menu" [model]="[
                {
                    label: 'Editar Projeto',
                    icon: 'pi pi-pen-to-square'
                },
                {
                    label: 'Adicionar Tarefa',
                    icon: 'pi pi-list-check'
                },
                {
                    separator: true
                },
                {
                    label: 'Deletar',
                    icon: 'pi pi-times'
                }]" [popup]="true" />
            </ng-template>
        </p-panel>
        <div class="flex flex-wrap align-items-center justify-content-between gap-3 px-3 pb-3 pt-1">
            <div class="flex align-items-center gap-2">
                <div class="responsavel">
                    <p-avatar 
                    [image]="projeto.user.avatar" 
                    size="large"
                    shape="circle"
                    />
                    <span>Respons√°vel</span>
                </div>
            </div>
            <p-progressBar class="flex-auto" [value]="projeto.porcent" max="100" [style]="{ height: '1.2em' }" />
            <div>
                <small>Alterado:</small> <span class="font-bold"> 16/06/2024</span>
            </div>
        </div>
    </p-card>
    <p-card class="col-12">
        <div class="flex align-items-center justify-content-end">
                <p-paginator
                    (onPageChange)="onPageChange($event)"
                    [first]="this.paginator.first"
                    [rows]="this.paginator.rows"
                    [rowsPerPageOptions]="[4, 10, 20, 30]"
                    [totalRecords]="total"
                    [showPageLinks]="false"
                    [showCurrentPageReport]="true"
                    [currentPageReportTemplate]="(this.paginator.first+1)+'-'+((this.paginator.first)+(projetos?.length || 0))+' de {totalRecords}'" 
                >
                </p-paginator>
        </div>
    </p-card>
    </ng-container>
</div>