import './polyfills.server.mjs';
import{a as T,d as R}from"./chunk-DNDMPT53.mjs";import{a as A}from"./chunk-7KZ3Z7RV.mjs";import{a as B,b as g}from"./chunk-3ZXJO6FQ.mjs";import{Ab as F,Bb as j,Cb as x,Hb as N,Jb as S,Lb as U,Nb as b,Qb as h,c as m,d as l,f as p,fa as C,g as v,ga as I,ha as w,l as n,o as c,r as y,s,zb as k}from"./chunk-SB72VVK3.mjs";var D=(e,t)=>{let i=c(A),o=c(B),r=c(b),f=i.getItem("JWT_Fake"),a=()=>(r.navigate(["auth"]),m(!1));return f?G(o,f).pipe(v(d=>d?.UserId?g.user?.id!=d.UserId?o.getID("users",d.UserId).pipe(l(E=>(g.user=E,!0)),p(a)):m(!0):a()),p(a)):a()},G=(e,t)=>e.get("sessions").pipe(l(i=>i.find(r=>r.token===t)||null),p(()=>m(null)));var J=[{path:"",loadChildren:()=>import("./chunk-F2CQX5MM.mjs").then(e=>e.PanelModule),canActivate:[D]},{path:"auth",loadChildren:()=>import("./chunk-KOEEEZPC.mjs").then(e=>e.AuthModule)}],H=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=s({type:t}),t.\u0275inj=n({imports:[h.forRoot(J),h]});let e=t;return e})();var u=(()=>{let t=class t{constructor(){this.title="desafio-tecnico-tasker-talk"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=y({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,f){r&1&&(C(0,"span"),w(1,"router-outlet"),I())},dependencies:[U],styles:['@charset "UTF-8";[_nghost-%COMP%] > span[_ngcontent-%COMP%]{display:table;width:100%}']});let e=t;return e})();var O=(e,t)=>{let i=sessionStorage.getItem("JWT_Fake");if(i){let o=e.clone({headers:e.headers.set("Authorization",`Bearer ${i}`)});return t(o)}return t(e)};var P=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=s({type:t,bootstrap:[u]}),t.\u0275inj=n({providers:[S(),k(j(),F([O]))],imports:[N,T,H,x]});let e=t;return e})();var W=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=s({type:t,bootstrap:[u]}),t.\u0275inj=n({imports:[P,R]});let e=t;return e})();export{W as a};
